"use strict";(()=>{var a=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(t=>{let e=t.getAttribute(this.DATA_ATTR);if(!e){console.error("No ID found for dialog component",t);return}t.addEventListener("close",()=>{this.closeDialog(t,!0)});let l=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${e}"]`),o=t.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${e}"]`);l.forEach(n=>{n.addEventListener("click",()=>{this.openDialog(t)})}),o.forEach(n=>{n.addEventListener("click",()=>{this.closeDialog(t)})})})}openDialog(i){i.showModal();let t=new CustomEvent("dialogOpen",{detail:{dialogId:i.getAttribute(this.DATA_ATTR)}});i.dispatchEvent(t),window.WF_IX.emit("onDialogOpen",{},i)}closeDialog(i,t=!1){t||i.close();let e=new CustomEvent("dialogClose",{detail:{dialogId:i.getAttribute(this.DATA_ATTR)}});i.dispatchEvent(e),window.WF_IX.emit("onDialogClose",{},i)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(t=>{t.addEventListener("click",e=>{let l=e.target;if(!(l instanceof HTMLDialogElement))return;let o=l.getBoundingClientRect();o.top<=e.clientY&&e.clientY<=o.top+o.height&&o.left<=e.clientX&&e.clientX<=o.left+o.width&&e.target===l&&this.closeDialog(l)})})}},s=a;})();
