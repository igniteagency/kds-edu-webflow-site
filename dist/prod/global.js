"use strict";(()=>{var b='details:not([data-accordion="false"])',T="summary",q="summary + div";function L(){let n=document.querySelectorAll(b);n.forEach(e=>{let t=e.querySelector(T),o=e.querySelector(q);if(!t||!o){console.error("Accordion toggle or content not found",t,o);return}t.addEventListener("click",r=>{if(r.preventDefault(),!e.open){e.open=!0;let l=o.scrollHeight;o.style.height="0px",o.animate([{height:"0px"},{height:`${l}px`}],{duration:300,fill:"forwards"}).onfinish=()=>{o.style.height="auto"},n.forEach(c=>{c!==e&&c.open&&c.querySelector(T)?.click()})}else{let l=o.scrollHeight,c=o.animate([{height:`${l}px`},{height:"0px"}],{duration:300,fill:"forwards"});c.onfinish=()=>{e.open=!1,o.style.height=""}}})})}var m=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(t=>{let o=t.getAttribute(this.DATA_ATTR);if(!o){console.error("No ID found for dialog component",t);return}t.addEventListener("close",()=>{this.closeDialog(t,!0)});let r=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${o}"]`),i=t.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${o}"]`);r.forEach(l=>{l.addEventListener("click",()=>{this.openDialog(t)})}),i.forEach(l=>{l.addEventListener("click",()=>{this.closeDialog(t)})})})}openDialog(e){e.showModal();let t=new CustomEvent("dialogOpen",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(t),window.WF_IX.emit("onDialogOpen",{},e)}closeDialog(e,t=!1){t||e.close();let o=new CustomEvent("dialogClose",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(o),window.WF_IX.emit("onDialogClose",{},e)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(t=>{t.addEventListener("click",o=>{let r=o.target;if(!(r instanceof HTMLDialogElement))return;let i=r.getBoundingClientRect();i.top<=o.clientY&&o.clientY<=i.top+i.height&&i.left<=o.clientX&&o.clientX<=i.left+i.width&&o.target===r&&this.closeDialog(r)})})}},A=m;var f=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(e=>{e.addEventListener("toggle",()=>{e.open?(this.closeOthersManually(e),this.emitOpenEvent(e)):(this.resetClosingStyles(e),this.ensureOneIsOpen())})})}closeOthersManually(e){this.detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1)})}resetClosingStyles(e){let t=e.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(t,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(t=>t.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(e){let t=e?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(t,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},v=f;function w(){let n=document.querySelector(".section_navbar");n&&ScrollTrigger.create({start:"top+=500",end:"max",onUpdate:e=>{e.direction===1?n.classList.add("is-hidden"):(n.classList.remove("is-hidden"),e.isActive&&n.classList.add("is-fill"))},onToggle:e=>{e.isActive?e.direction!==1&&n.classList.add("is-fill"):n.classList.remove("is-fill")},invalidateOnRefresh:!0})}function O(){let n=document.querySelectorAll('[data-el="current-year"]'),e=new Date().getFullYear().toString();n.forEach(t=>{t.textContent=e})}function y(){if(!window.matchMedia("(pointer: fine)").matches)return;document.querySelectorAll('[data-cursor-follow="container"]').forEach(e=>{let t=e.querySelector('[data-cursor-follow="element"]');if(!t)return;gsap.set(t,{position:"absolute",top:0,left:0,xPercent:-50,yPercent:-50,scale:1,opacity:0,transformOrigin:"50% 50%",willChange:"transform",force3D:!0,pointerEvents:"none"});let o=e.getBoundingClientRect(),r=()=>o=e.getBoundingClientRect();window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0});let i=t.offsetWidth,l=t.offsetHeight,c=()=>{i=t.offsetWidth,l=t.offsetHeight};window.addEventListener("resize",c);let u=16,I=gsap.quickTo(t,"x",{duration:.25,ease:"power3.out"}),M=gsap.quickTo(t,"y",{duration:.25,ease:"power3.out"}),p=!1;function g(d,s,a){return Math.min(Math.max(d,s),a)}function E(d){let s=d.clientX-o.left,a=d.clientY-o.top,C=i/2+u,N=o.width-i/2-u,x=l/2+u,R=o.height-l/2-u;return s=g(s,C,N),a=g(a,x,R),{x:s,y:a}}e.addEventListener("pointerenter",d=>{r(),c();let{x:s,y:a}=E(d);gsap.set(t,{x:s,y:a}),gsap.to(t,{opacity:1,duration:.25,ease:"power3.out"}),p=!0}),e.addEventListener("pointermove",d=>{let{x:s,y:a}=E(d);if(!p){gsap.set(t,{x:s,y:a}),p=!0;return}I(s),M(a)}),e.addEventListener("pointerleave",()=>{gsap.to(t,{opacity:0,duration:.2,ease:"power3.in"}),p=!1})})}function S(){window.jQuery?.(document).off("click.wf-scroll")}var H=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(e=>{e.setAttribute("target","_blank")})},_=H;function h(){let n=document.querySelector("main");n&&(n.id="main")}function D(){document.querySelectorAll('[data-el="marquee-list"]').forEach(e=>{let t=e,o=t.cloneNode(!0);t.parentNode?.insertBefore(o,t.nextSibling)})}window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=window.Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),O(),h(),_(),k(),P(),W(),X()});function k(){new v,new A}function P(){y(),w(),D(),L(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js"),window.conditionalLoadScript('[data-slider-el="component"]',"components/slider.js")}function W(){S()}function X(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
