"use strict";(()=>{var r={highlight:"color: red; font-weight: bold;",normal:"color: #000; font-weight: normal;"};var _="IS_DEBUG_MODE";window.IS_DEBUG_MODE=B();window.setDebugMode=o=>{localStorage.setItem(_,o.toString())};function B(){let o=localStorage.getItem(_);return!!(o&&o==="true")}var U=window.IS_DEBUG_MODE?"enabled":"disabled";console.log(`Debug mode is %c${U}`,r.highlight);console.log(`To ${window.IS_DEBUG_MODE?"disable":"enable"} debug mode and show debug logs, run %c\`window.setDebugMode(${window.IS_DEBUG_MODE?"false":"true"})\`%c in the console`,r.highlight,r.normal);var V={local:"Localhost",cdn:"CDN"},E="http://localhost:3000/",f="jsEnv";window.SCRIPTS_ENV=W();window.setScriptMode=o=>{if(o!=="local"&&o!=="cdn"){console.error("Invalid JS scripts environment. Pass %c`local`%c or %c`cdn`%c in the console",r.highlight,r.normal,r.highlight,r.normal);return}localStorage.setItem(f,o),window.SCRIPTS_ENV=o,console.log(`JS scripts environment successfully set to %c${V[o]}`,r.highlight)};function W(){let o=localStorage.getItem(f);if(o==="local"){let t=new AbortController,n=setTimeout(()=>t.abort(),150);fetch(E,{method:"HEAD",cache:"no-store",signal:t.signal}).catch(()=>{console.log("Localhost server is not available, switching to production mode"),localStorage.setItem(f,"cdn"),o="cdn",window.SCRIPTS_ENV="cdn"}).finally(()=>clearTimeout(n))}let e=o||"cdn";return console.log(`Current JS scripts environment: %c${e}`,r.highlight),G(e),e}function G(o){o==="cdn"?console.log('To serve JS files from localhost, run %c`window.setScriptMode("local")`%c in the console',r.highlight,r.normal):console.log('To switch to production mode, either run %c`window.setScriptMode("cdn")`%c in the console or turn off localhost dev server',r.highlight,r.normal)}function v(o=""){return`https://cdn.jsdelivr.net/gh/igniteagency/kds-edu-webflow-site${o===""?"":`@${o}`}/dist/prod/`}window.PRODUCTION_BASE=window.location.hostname.includes("webflow.io")?v("dev"):v();var A=window.SCRIPTS_ENV==="local"?E:window.PRODUCTION_BASE;window.SCRIPT_BASE=A;window.loadScript=function(o,e,t){let n={placement:"body",name:void 0,...e},l={defer:"true",...t},i=o.startsWith("https://")?o:A+o;return document.querySelector(`script[src="${i}"]`)?Promise.resolve():new Promise((a,p)=>{let m=document.createElement("script");m.src=i,Object.entries(l).forEach(([h,g])=>{m.setAttribute(h,g)}),m.onload=()=>{n.name&&document.dispatchEvent(new CustomEvent(`scriptLoaded:${n.name}`,{detail:{url:i,name:n.name}})),a()},m.onerror=()=>p(new Error(`Failed to load script: ${i}`)),document[n.placement].appendChild(m)})};window.loadCSS=function(o){return document.querySelector(`link[href="${o}"]`)?Promise.resolve():new Promise((e,t)=>{let n=document.createElement("link");n.rel="stylesheet",n.href=o,n.onload=()=>e(),n.onerror=()=>t(new Error(`Failed to load CSS: ${o}`)),document.head.appendChild(n)})};window.conditionalLoadScript=function(o,e){if(document.querySelector(o))return window.loadScript(e)};var X='details:not([data-accordion="false"])',D="summary",Y="summary + div";function I(){let o=document.querySelectorAll(X);o.forEach(e=>{let t=e.querySelector(D),n=e.querySelector(Y);if(!t||!n){console.error("Accordion toggle or content not found",t,n);return}t.addEventListener("click",l=>{if(l.preventDefault(),!e.open){e.open=!0;let i=n.scrollHeight;n.style.height="0px",n.animate([{height:"0px"},{height:`${i}px`}],{duration:300,fill:"forwards"}).onfinish=()=>{n.style.height="auto"},o.forEach(a=>{a!==e&&a.open&&a.querySelector(D)?.click()})}else{let i=n.scrollHeight,a=n.animate([{height:`${i}px`},{height:"0px"}],{duration:300,fill:"forwards"});a.onfinish=()=>{e.open=!1,n.style.height=""}}})})}var w=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(t=>{let n=t.getAttribute(this.DATA_ATTR);if(!n){console.error("No ID found for dialog component",t);return}t.addEventListener("close",()=>{this.closeDialog(t,!0)});let l=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${n}"]`),s=t.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${n}"]`);l.forEach(i=>{i.addEventListener("click",()=>{this.openDialog(t)})}),s.forEach(i=>{i.addEventListener("click",()=>{this.closeDialog(t)})})})}openDialog(e){e.showModal();let t=new CustomEvent("dialogOpen",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(t),window.WF_IX.emit("onDialogOpen",{},e)}closeDialog(e,t=!1){t||e.close();let n=new CustomEvent("dialogClose",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(n),window.WF_IX.emit("onDialogClose",{},e)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(t=>{t.addEventListener("click",n=>{let l=n.target;if(!(l instanceof HTMLDialogElement))return;let s=l.getBoundingClientRect();s.top<=n.clientY&&n.clientY<=s.top+s.height&&s.left<=n.clientX&&n.clientX<=s.left+s.width&&n.target===l&&this.closeDialog(l)})})}},C=w;var S=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(e=>{e.addEventListener("toggle",()=>{e.open?(this.closeOthersManually(e),this.emitOpenEvent(e)):(this.resetClosingStyles(e),this.ensureOneIsOpen())})})}closeOthersManually(e){this.detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1)})}resetClosingStyles(e){let t=e.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(t,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(t=>t.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(e){let t=e?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(t,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},y=S;function b(){let o=document.querySelector(".section_navbar");o&&ScrollTrigger.create({start:"top+=500",end:"max",onUpdate:e=>{e.direction===1?o.classList.add("is-hidden"):(o.classList.remove("is-hidden"),e.isActive&&o.classList.add("is-fill"))},onToggle:e=>{e.isActive?e.direction!==1&&o.classList.add("is-fill"):o.classList.remove("is-fill")},invalidateOnRefresh:!0})}function N(){if(!window.matchMedia("(pointer: fine)").matches)return;document.querySelectorAll('[data-cursor-follow="container"]').forEach(e=>{let t=e.querySelector('[data-cursor-follow="element"]');if(!t)return;gsap.set(t,{position:"absolute",top:0,left:0,xPercent:-50,yPercent:-50,scale:1,opacity:0,transformOrigin:"50% 50%",willChange:"transform",force3D:!0,pointerEvents:"none"});let n=e.getBoundingClientRect(),l=()=>n=e.getBoundingClientRect();window.addEventListener("resize",l),window.addEventListener("scroll",l,{passive:!0});let s=t.offsetWidth,i=t.offsetHeight,a=()=>{s=t.offsetWidth,i=t.offsetHeight};window.addEventListener("resize",a);let p=16,m=gsap.quickTo(t,"x",{duration:.25,ease:"power3.out"}),h=gsap.quickTo(t,"y",{duration:.25,ease:"power3.out"}),g=!1;function L(u,c,d){return Math.min(Math.max(u,c),d)}function O(u){let c=u.clientX-n.left,d=u.clientY-n.top,q=s/2+p,k=n.width-s/2-p,H=i/2+p,$=n.height-i/2-p;return c=L(c,q,k),d=L(d,H,$),{x:c,y:d}}e.addEventListener("pointerenter",u=>{l(),a();let{x:c,y:d}=O(u);gsap.set(t,{x:c,y:d}),gsap.to(t,{opacity:1,duration:.25,ease:"power3.out"}),g=!0}),e.addEventListener("pointermove",u=>{let{x:c,y:d}=O(u);if(!g){gsap.set(t,{x:c,y:d}),g=!0;return}m(c),h(d)}),e.addEventListener("pointerleave",()=>{gsap.to(t,{opacity:0,duration:.2,ease:"power3.in"}),g=!1})})}function M(){let o=document.querySelectorAll('[data-el="current-year"]'),e=new Date().getFullYear().toString();o.forEach(t=>{t.textContent=e})}function R(){window.jQuery?.(document).off("click.wf-scroll")}var F=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(e=>{e.setAttribute("target","_blank")})},x=F;function T(){let o=document.querySelector("main");o&&(o.id="main")}function P(){document.querySelectorAll('[data-el="marquee-list"]').forEach(e=>{let t=e,n=t.cloneNode(!0);t.parentNode?.insertBefore(n,t.nextSibling)})}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),M(),T(),x(),j(),J(),z(),K()});function j(){new y,new C}function J(){N(),b(),P(),I(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js"),window.conditionalLoadScript('[data-slider-el="component"]',"components/slider.js")}function z(){R()}function K(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
